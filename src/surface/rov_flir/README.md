# rov_flir

## Overview

This is a boilerplate package which launches the camera_driver_node from the flir_launch package.

## Installation

Run the install file from spinnaker_camera_driver

```bash
ros2 run spinnaker_camera_driver linux_setup_flir
```

## Usage

Run the main node with

```bash
ros2 launch rov_flir flir_launch.py
```

## Settings

The settings are dynamically generated by nodelets from the spinnaker API. This means to modify the settings from ROS we need to add a mapping between them in the config directory. Then we can add the parameter into the parameter list in the flir_launch.py file.

## Launch files

* **flir_launch.py:** Launches the camera_driver_node for the two flir cameras.

## Published Topics

* **`/front_camera/image_raw`** ([sensor_msgs/msg/Image])

    Image feed for front camera.

* **`/front_camera/meta`** ([flir_camera_msgs/msg/ImageMetaData])

    Front camera image meta data.

* **`/front_camera/camera_info`** ([sensor_msgs/msg/CameraInfo])

    Front camera info.

* **`/bottom_camera/image_raw`** ([sensor_msgs/msg/Image])

    Image feed for bottom camera.

* **`/bottom_camera/meta`** ([flir_camera_msgs/msg/ImageMetaData])

    Bottom camera image meta data.

* **`/bottom_camera/camera_info`** ([sensor_msgs/msg/CameraInfo])

    Bottom camera info.

## Subscribed Topics

* **`/front_camera/control`** ([flir_camera_msgs/msg/CameraControl])
    Controls exposure and gain.

* **`/bottom_camera/control`** ([flir_camera_msgs/msg/CameraControl])
    Controls exposure and gain.

[sensor_msgs/msg/Image]: https://docs.ros2.org/latest/api/sensor_msgs/msg/Image.html
[flir_camera_msgs/msg/ImageMetaData]: https://github.com/ros-drivers/flir_camera_driver/blob/humble-devel/flir_camera_msgs/msg/ImageMetaData.msg
[sensor_msgs/msg/CameraInfo]: https://docs.ros2.org/latest/api/sensor_msgs/msg/CameraInfo.html
[flir_camera_msgs/msg/CameraControl]: https://github.com/ros-drivers/flir_camera_driver/blob/humble-devel/flir_camera_msgs/msg/CameraControl.msg